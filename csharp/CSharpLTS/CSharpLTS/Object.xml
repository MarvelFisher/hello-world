<?xml version="1.0" encoding="utf-8" ?>

<objects xmlns="http://www.springframework.net"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.net
        http://www.springframework.net/xsd/spring-objects.xsd">

  <object id="server" type="CSharpLTS.Program, CSharpLTS" autowire="byName"/>
  <object id="remoteEventManager" type="Common.Event.RemoteEventManager, Common" autowire="byName">
    <constructor-arg>
      <ref object="transportService"></ref>
    </constructor-arg>
  </object>

  <object id="downStreamManager" type="Common.Adaptor.DownStreamManager, Common" >
    <constructor-arg>
      <list element-type="Common.Adaptor.IDownStreamAdaptor, Common">
        <ref object="tradeAdaptor"/>
      </list>
    </constructor-arg>
  </object>

  <object id="tradeAdaptor" type="Adaptor.TwSpeedy.Main.TradeAdaptor, TwSpeedy"/>

  <object id="transportService" type="Transport.Transport.ActiveMQGenericService, Transport" autowire="byName" >
    <property name="url" value="failover:(tcp://127.0.0.1:61616)"></property>
    <property name="publishTopic" value="Test.EB.DownStream.node" />
    <property name="subscribeTopic" value="Test.EB.DownStream.channel" />
    <!--
    <property name="user" value="yu"></property>
    <property name="password" value="junfeng"></property>
    -->
  </object>

  <object id="defaultSerialization" type="Avro.Serialization.AvroSerialization, AvroObject"/>
  
</objects>
